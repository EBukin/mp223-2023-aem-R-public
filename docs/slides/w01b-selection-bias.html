<!DOCTYPE html>
<html lang="en"><head>
<script src="w01b-selection-bias_files/libs/clipboard/clipboard.min.js"></script>
<script src="w01b-selection-bias_files/libs/quarto-html/tabby.min.js"></script>
<script src="w01b-selection-bias_files/libs/quarto-html/popper.min.js"></script>
<script src="w01b-selection-bias_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="w01b-selection-bias_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="w01b-selection-bias_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="w01b-selection-bias_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.1.251">

  <meta name="author" content="Eduard Bukin">
  <title>Selection Bias and how to fight it</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="w01b-selection-bias_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="w01b-selection-bias_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
  <link rel="stylesheet" href="w01b-selection-bias_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="w01b-selection-bias_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="w01b-selection-bias_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="w01b-selection-bias_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="w01b-selection-bias_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Selection Bias and how to fight it</h1>
  <p class="author">Eduard Bukin</p>
</section>

<section class="slide level2">

<div class="cell">

</div>
<p>Slides are based on two recommended readings. Read them if you can!</p>
<ol type="1">
<li><p>Ch. 1 in <span class="citation" data-cites="Angrist2014">(<a href="#/references" role="doc-biblioref" onclick="">Angrist &amp; Pischke, 2014</a>)</span></p></li>
<li><p>Ch. 2 in <span class="citation" data-cites="Angrist2009">(<a href="#/references" role="doc-biblioref" onclick="">Angrist &amp; Pischke, 2009</a>)</span></p></li>
</ol>
</section>
<section id="what-do-econometricians-do" class="title-slide slide level1 center">
<h1>What do econometricians do?</h1>
<div class="fragment">
<ul>
<li>Econometricians search and reveal the <strong>causal effects</strong></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Often refereed as <strong>Average Treatment Effect (ATE)</strong>:</li>
</ul>
<p><span class="math display">\[
\rho
\]</span></p>
</div>
<div class="fragment">
<ul>
<li>But the ATE is always hidden from us behind the <strong>Selection Bias</strong>!</li>
</ul>
</div>
</section>

<section>
<section id="rubins-causal-model" class="title-slide slide level1 center">
<h1>Rubin’s causal model</h1>
<p><span class="citation" data-cites="Rubin1974 Rubin1977 Holland1986">(<a href="#/references" role="doc-biblioref" onclick="">Holland, 1986</a>; <a href="#/references" role="doc-biblioref" onclick="">Rubin, 1974</a>, <a href="#/references" role="doc-biblioref" onclick="">1977</a>)</span></p>
</section>
<section id="potential-outcomes-framework" class="slide level2">
<h2>Potential outcomes framework</h2>
<div class="footer">
<p><strong>Seminal papers are: <span class="citation" data-cites="Rubin1974 Rubin1977 Holland1986">(<a href="#/references" role="doc-biblioref" onclick="">Holland, 1986</a>; <a href="#/references" role="doc-biblioref" onclick="">Rubin, 1974</a>, <a href="#/references" role="doc-biblioref" onclick="">1977</a>)</span></strong>.</p>
</div>
<div class="fragment">
<p><span class="math inline">\(D_i=\{0,1\}\)</span> is a treatment that causes a change in the <strong>actual outcome</strong> <span class="math inline">\(Y_i\)</span>;</p>
</div>
<div class="fragment">
<p><span class="math inline">\(Y_{\color{Red}{0}i}\)</span> and <span class="math inline">\(Y_{\color{Red}{1}i}\)</span> are two <span style="color: red">potential outcomes</span> for an individual <span class="math inline">\(i\)</span>;</p>
</div>
<div class="fragment">
<p><span class="math display">\[
\text{Potential outcome} =
\begin{cases}
Y_{\color{Red}{1}i} &amp; \text{ if } D_i=1 \\
Y_{\color{Red}{0}i} &amp; \text{ if } D_i=0
\end{cases}
\]</span></p>
</div>
<div class="fragment">
<p>Potential outcome is <strong>what we would measure if we could go back in time and change a person’s treatment status.</strong></p>
</div>
<div class="fragment">
<p>We observe:</p>
<ul>
<li><p><span class="math inline">\(Y_i = Y_{\color{Red}{1}i}\)</span>, when <span class="math inline">\(D_i=1\)</span></p></li>
<li><p><span class="math inline">\(Y_i = Y_{\color{Red}{0}i}\)</span>, when <span class="math inline">\(D_i=0\)</span></p></li>
</ul>
</div>
</section>
<section id="causal-effect-of-a-treatment" class="slide level2">
<h2>Causal effect of a treatment</h2>
<ul>
<li>Is the difference between two potential outcomes:</li>
</ul>
<div class="fragment">
<p><span class="math display">\[
\rho = Y_{1i} - Y_{0i}
\]</span></p>
</div>
<div class="fragment">
<p>Depending on what we observe as a factual:</p>
</div>
<div class="fragment">
<ul>
<li><span class="math inline">\(Y_{0i}\)</span> is the counterfactual for <span class="math inline">\(Y_{1i}\)</span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="math inline">\(Y_{1i}\)</span> is the counterfactual for <span class="math inline">\(Y_{0i}\)</span></li>
</ul>
</div>
</section>
<section id="actual-outcome" class="slide level2">
<h2>Actual outcome</h2>
<p><span class="math display">\[
\begin{align}
Y_i &amp; =
\begin{cases}
Y_{1i} &amp; \text{ if } D_i=1 \\
Y_{0i} &amp; \text{ if } D_i=0
\end{cases} \\
&amp; = Y_{0i} + \rho \cdot D_i
\end{align}
\]</span></p>
<div class="fragment">
<p><strong>Actual outcome: single path that an individual walks.</strong></p>
</div>
</section>
<section id="conditional-expectation" class="slide level2">
<h2>Conditional Expectation:</h2>
<p><strong>Actual outcome is Conditional on treatment</strong></p>
<div class="fragment">
<ul>
<li>We use “|” to denote <strong>conditional</strong> on something (<span class="math inline">\(D_i\)</span>);</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="math inline">\([Y_i|D_i]\)</span> means actual outcome <span class="math inline">\(Y_i\)</span> conditional on <span class="math inline">\(D_i\)</span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>When <span class="math inline">\(D_i=0, \;\;\; [Y_i|D_i=0] = Y_{0i} + 0\)</span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>When <span class="math inline">\(D_i=1, \;\;\; [Y_i|D_i=1] = Y_{0i} + (Y_{1i} - Y_{0i})\)</span></li>
</ul>
</div>
</section>
<section id="comparing-of-two-individuals" class="slide level2">
<h2>Comparing of two individuals</h2>
<aside class="notes">
<p>Ask: what is the difference between two individuals. <span class="math inline">\([Y_{0i}|\color{Green}{D_i = 1}] \ne \color{Red}{[Y_i|D_i=0]}\)</span> or <span class="math inline">\([Y_{0i}|\color{Green}{D_i = 1}] \ne [Y_{0i}|\color{Red}{D_i=0}]\)</span></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p>We have two individuals with actually observed outcomes:</p>
<ul>
<li><p><span class="math inline">\([Y_i|D_i=1]\)</span></p></li>
<li><p><span class="math inline">\([Y_i|D_i=0]\)</span></p></li>
</ul>
<div class="fragment">
<p><span class="math display">\[
\begin{align}
\underbrace{[Y_i|D_i=1] - [Y_i|D_i=0]}_\text{Observed difference}
\end{align}
\]</span></p>
</div>
<div class="fragment">
<p><span class="math display">\[
\begin{align}
\underbrace{\color{Blue}{[Y_i|D_i=1]} - \color{Red}{[Y_i|D_i=0]}}_\text{Observed difference} &amp;
= \underbrace{\color{Blue}{[Y_i|D_i=1]} - [Y_{0i}|\color{Green}{D_i = 1}]}_\text{Average treatment effect on treated} \\
&amp; + \underbrace{[Y_{0i}|\color{Green}{D_i = 1}] - \color{Red}{[Y_i|D_i=0]}}_\text{Selection bias}
\end{align}
\]</span></p>
</div>
<div class="fragment">
<h3 id="differences-between-treated-and-not-treated-are-always-affected-by-the-selection-bias">Differences between treated and not treated are always affected by the Selection Bias</h3>
</div>
</section>
<section id="the-origin-of-the-selection-bias" class="slide level2">
<h2>The origin of the selection bias</h2>
<p>In:</p>
<p><span class="math display">\[
\begin{align}
\color{Blue}{[Y_i|D_i=1]} - \color{Red}{[Y_i|D_i=0]} &amp;
= \color{Blue}{[Y_i|D_i=1]} -  [Y_{0i}|\color{Green}{D_i = 1}] \\
&amp; +  [Y_{0i}|\color{Green}{D_i = 1}] - \color{Red}{[Y_i|D_i=0]}
\end{align}
\]</span></p>
<div class="fragment">
<ul>
<li><strong>actual</strong> outcome of <span style="color: red">NO-treatment in NOT treated</span> is the same as <strong>potential</strong> outcome of <span style="color: red">NO-treatment in NOT treated</span>.</li>
</ul>
<p><span class="math display">\[
\color{Red}{[Y_i|D_i=0]} = [Y_{0i}|\color{Red}{D_i=0}]
\]</span></p>
</div>
<div class="fragment">
<p>However:</p>
<ul>
<li><strong>potential</strong> outcome of <span style="color: green">NO-treatment in <strong>treated</strong></span> is <strong>NOT</strong> the same as <strong>potential</strong> outcome of <span style="color: red">NO-treatment in NOT treated</span>.</li>
</ul>
<p><span class="math display">\[
[Y_{0i}|\color{Green}{D_i = 1}] \ne [Y_{0i}|\color{Red}{D_i = 0}]
\]</span></p>
</div>
</section>
<section id="selection-bias-in-the-nutshell" class="slide level2">
<h2>Selection bias in the nutshell</h2>
<div>
<ul>
<li class="fragment"><p>Selection bias arises from the lack of compatibility:</p>
<ul>
<li class="fragment"><p>when we compare phenomena that are not comparable;</p></li>
<li class="fragment"><p>like <strong>apples</strong> and <strong>oranges</strong>;</p></li>
</ul></li>
<li class="fragment"><p>As every person is unique, the potential outcomes of treatment and no treatment are different between people.</p></li>
<li class="fragment"><p>Selection bias arises when we do not have the Ceteris Paribus!</p></li>
</ul>
</div>
</section></section>
<section>
<section id="example-1" class="title-slide slide level1 center">
<h1>Example 1</h1>
<p>Does conditional cash transfers (CCT) cause a reduction in children wasting (Z score)?</p>
</section>
<section id="two-households" class="slide level2">
<h2>Two households</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="fragment" data-fragment-index="2">
<p>Household (<span class="math inline">\(i=1\)</span>):</p>
<div>
<ol type="1">
<li class="fragment"><p>Received CCT (treatment):</p>
<ul>
<li class="fragment"><span class="math inline">\(D_i=1\)</span></li>
</ul></li>
<li class="fragment"><p>Observed wasting: <strong>2 SD</strong>;</p>
<ul>
<li class="fragment"><p>Actual outcome = Potential outcome when <strong>treated</strong>;</p></li>
<li class="fragment"><p><span class="math display">\[
[Y_{i=1}|D_{i=1}=1] \\= [Y_{1,i=1}|D_{i=1}=1] = 2
\]</span></p></li>
</ul></li>
</ol>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment" data-fragment-index="3">
<p>Household (<span class="math inline">\(i=2\)</span>):</p>
<div>
<ol type="1">
<li class="fragment"><p>No CCT (no treatment):</p>
<ul>
<li class="fragment"><span class="math inline">\(D_i=0\)</span></li>
</ul></li>
<li class="fragment"><p>Wasting: <strong>1 SD</strong>;</p>
<ul>
<li class="fragment"><p>Actual outcome = Potential outcome when <strong>NOT treated</strong>;</p></li>
<li class="fragment"><p><span class="math display">\[
[Y_{i=2}|D_{i=2}=0] \\= [Y_{0,i=2}|D_{i=2}=0] = 1
\]</span></p></li>
</ul></li>
</ol>
</div>
</div>
</div>
</div>
<div class="fragment">
<h3 id="what-are-the-similarities-between-two-household">What are the similarities between two household?</h3>
<h3 id="what-are-the-differences">What are the differences?</h3>
</div>
</section>
<section id="comparing-two-households-the-difference" class="slide level2">
<h2>Comparing two households (the difference)</h2>
<p><span class="math display">\[
\begin{align}
\text{Difference between two HH} &amp; = \\
&amp; = [Y_{i=1}|D_{i=1}=1] - [Y_{i=2}|D_{i=2}=0] \\
&amp; = 2 - 1 \\
&amp; = 1
\end{align}
\]</span></p>
<div class="fragment">
<ul>
<li>Is this an Average Treatment Effect (ATE)?</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Is this the Treatment Effect on Treated?</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Vote?</li>
</ul>
</div>
</section>
<section id="potential-outcomes-of-two-households-12" class="slide level2 smaller">
<h2>Potential Outcomes of two households (1/2)</h2>
<table>
<colgroup>
<col style="width: 45%">
<col style="width: 15%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;"></th>
<th style="text-align: center;"><p>Household <span class="math inline">\(i=1\)</span></p>
<p>(Treated)</p></th>
<th style="text-align: center;"><p>Household <span class="math inline">\(i=2\)</span></p>
<p>(Not treated)</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Potential outcome without CCT:</td>
<td style="text-align: center;"><span class="math inline">\(Y_{0i}\)</span></td>
<td style="text-align: center;"><p>-2</p>
<p><span class="fragment" data-fragment-index="10"><span class="fragment highlight-red" data-fragment-index="10">Not observed</span></span></p></td>
<td style="text-align: center;"><p>1</p>
<p><span class="fragment" data-fragment-index="9"><span class="fragment highlight-green" data-fragment-index="9">Observed</span></span></p></td>
</tr>
<tr class="even">
<td>Potential outcome with CCT:</td>
<td style="text-align: center;"><span class="math inline">\(Y_{1i}\)</span></td>
<td style="text-align: center;"><p>2</p>
<p><span class="fragment" data-fragment-index="8"><span class="fragment highlight-green" data-fragment-index="8">Observed</span></span></p></td>
<td style="text-align: center;"><p>1</p>
<p><span class="fragment" data-fragment-index="11"><span class="fragment highlight-red" data-fragment-index="11">Not observed</span></span></p></td>
</tr>
<tr class="odd">
<td>Actual treatment status:</td>
<td style="text-align: center;"><span class="math inline">\(D_{i}\)</span></td>
<td style="text-align: center;"><p>1</p>
<p><span class="fragment" data-fragment-index="6"><span class="fragment highlight-green" data-fragment-index="6">Observed</span></span></p></td>
<td style="text-align: center;"><p>0</p>
<p><span class="fragment" data-fragment-index="7"><span class="fragment highlight-green" data-fragment-index="7">Observed</span></span></p></td>
</tr>
<tr class="even">
<td>Actual outcome:</td>
<td style="text-align: center;"><span class="math inline">\(Y_{i}\)</span></td>
<td style="text-align: center;"><p>2</p>
<p><span class="fragment" data-fragment-index="4"><span class="fragment highlight-green" data-fragment-index="4">Observed</span></span></p></td>
<td style="text-align: center;"><p>1</p>
<p><span class="fragment" data-fragment-index="5"><span class="fragment highlight-green" data-fragment-index="5">Observed</span></span></p></td>
</tr>
<tr class="odd">
<td>Treatment effect on treated:</td>
<td style="text-align: center;"><span class="math inline">\(Y_{1i} - Y_{0i}\)</span></td>
<td style="text-align: center;"><p><span class="math inline">\(2-(-2)=4\)</span></p>
<p><span class="fragment" data-fragment-index="12"><span class="fragment highlight-red" data-fragment-index="12">Not observed</span></span></p></td>
<td style="text-align: center;"><p><span class="math inline">\(1-1=0\)</span></p>
<p><span class="fragment" data-fragment-index="13"><span class="fragment highlight-red" data-fragment-index="13">Not observed</span></span></p></td>
</tr>
</tbody>
</table>
<div class="fragment" data-fragment-index="2">
<p><strong>What can we actually observe?</strong> <strong>What (from above) can we NOT observe in the real world?</strong></p>
</div>
<div class="fragment" data-fragment-index="20">
<p>Potential outcomes are different for two HHs.</p>
</div>
<div class="fragment" data-fragment-index="20">
<ul>
<li><span style="color: red">Why are they different that so?</span></li>
</ul>
</div>
</section>
<section id="potential-outcomes-of-two-households-22" class="slide level2 smaller">
<h2>Potential Outcomes of two households (2/2)</h2>
<table>
<colgroup>
<col style="width: 45%">
<col style="width: 15%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;"></th>
<th style="text-align: center;"><p>Household <span class="math inline">\(i=1\)</span></p>
<p>(Treated)</p></th>
<th style="text-align: center;"><p>Household <span class="math inline">\(i=2\)</span></p>
<p>(Not treated)</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Potential outcome without CCT:</td>
<td style="text-align: center;"><span class="math inline">\(Y_{0i}\)</span></td>
<td style="text-align: center;">-2</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="even">
<td>Potential outcome with CCT:</td>
<td style="text-align: center;"><span class="math inline">\(Y_{1i}\)</span></td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td>Actual treatment status:</td>
<td style="text-align: center;"><span class="math inline">\(D_{i}\)</span></td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td>Actual outcome:</td>
<td style="text-align: center;"><span class="math inline">\(Y_{i}\)</span></td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td>Effect of treatment on treated:</td>
<td style="text-align: center;"><span class="math inline">\(Y_{1i} - Y_{0i}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(2-(-2)=4\)</span></td>
<td style="text-align: center;"><span class="math inline">\(1-1=0\)</span></td>
</tr>
</tbody>
</table>
<div class="fragment">
<p><strong>Treatment causes different effects:</strong></p>
</div>
<div class="fragment">
<ol type="1">
<li>Effect of treatment on the treated:</li>
</ol>
<p><span class="math display">\[
\text{ETT}_i = Y_{1i} - Y_{0i}\\
\text{ETT}_1 = Y_{1,i=1} - Y_{0,i=1} = 2 - (-2) = 4\\
\text{ETT}_2 = Y_{1,i=2} - Y_{0,i=2} = 1 - 1 = 0
\]</span></p>
</div>
<div class="fragment">
<ol start="2" type="1">
<li>Average Treatment Effect (ATE):</li>
</ol>
<p><span class="math display">\[
\text{ATE} = E[\text{ETT}_i] = E[Y_{1i} - Y_{0i}] = \frac{1}{2}[2-(-2) + 1 - 1] = 2
\]</span></p>
</div>
<div class="fragment">
<p>But the difference in the actual outcomes shows a biased effect: <span class="math inline">\(Y_{1,i=1}-Y_{0,i=0} = 2-1 = 0\)</span></p>
</div>
</section>
<section id="comparing-two-households-the-bias" class="slide level2">
<h2>Comparing two households (the bias)</h2>
<p><span class="math display">\[
\begin{align}
\text{Diff. between two HH} &amp; = [Y_{i=1}|D_{i=1}=1] - [Y_{i=2}|D_{i=2}=0] \\
&amp; = \underbrace{[Y_{i=1}|D_{i=1}=1] - [Y_{0,i=1}|D_{i=1}=1]}_\text{Effect of treatment on treated (ETT)} \\
&amp; \qquad + \underbrace{[Y_{0,i=1}|D_{i=1}=1] - [Y_{i=2}|D_{i=2}=0]}_\text{Selection bias}
\end{align}
\]</span></p>
<div class="fragment">
<p><span class="math display">\[
\begin{align}
\text{Diff. between two HH} &amp; = \underbrace{2 - (-2)}_\text{4} + \underbrace{(-2) - 1}_\text{-3} = \underbrace{1}_\text{Biased effect}
\end{align}
\]</span></p>
<div>
<ul>
<li class="fragment">True causal effect of treatment on treated in <span class="math inline">\(i=1\)</span> is <span class="math inline">\(4\)</span> and in <span class="math inline">\(i=2\)</span> is <span class="math inline">\(0\)</span>;</li>
<li class="fragment">But comparing two groups does not reveal this!</li>
<li class="fragment">Instead, we have <span style="color: red">a negative bias</span> of a HH who is OK without treatment.</li>
<li class="fragment">Such negative selection bias can mask true causal effect completely.</li>
</ul>
</div>
</div>
</section></section>
<section>
<section id="example-2" class="title-slide slide level1 center">
<h1>Example 2</h1>
<p>Does conditional cash transfers (CCT) cause <strong>on average</strong> a reduction in children wasting (Z score)?</p>
<div>
<ul>
<li class="fragment"><p>Let us compare <strong>two groups of households</strong>;</p></li>
<li class="fragment"><p>One group is from one village that received CCT; another group is from another village that did not receive CCT.</p></li>
<li class="fragment"><p>What could be the similarities between the two groups?</p></li>
<li class="fragment"><p>What could be the difference between the two groups?</p></li>
<li class="fragment"><p>If groups averages are different, does it mean that CCT caused this difference?</p></li>
</ul>
</div>
</section>
<section id="average-treatment-effect" class="slide level2">
<h2>Average treatment effect</h2>
<div class="fragment">
<h3 id="the-constant-effects-assumption">The constant-effects assumption!</h3>
<p><span class="math display">\[
Y_{1i} = \rho + Y_{0i}
\]</span></p>
<ul>
<li>The treatment has a constant effect <span class="math inline">\(\rho\)</span> on all individuals.</li>
</ul>
<div class="fragment">
<p>When we reveal the causal effect <span class="math inline">\(\rho\)</span> we assume that it is constant for all treated an not treated individuals.</p>
</div>
</div>
</section>
<section id="bias-of-the-group-means-difference" class="slide level2 smaller">
<h2>Bias of the group means difference</h2>
<p><span class="math display">\[
\begin{align}
\text{Diff. in group means} &amp; = \color{Blue}{E[Y_{i}|D_{i}=1]} - \color{Red}{E[Y_{i}|D_{i}=0]} \\ \\
&amp; = \underbrace{\color{Blue}{E[Y_{i}|D_{i}=1]} - \color{Green}{E[Y_{0i}|D_{i}=1]}}_\text{Average treatment effect (ATE)} \\
&amp; \qquad + \underbrace{\color{Green}{E[Y_{0i}|D_{i}=1]} - \color{Red}{E[Y_{i}|D_{i}=0]}}_\text{Selection bias}
\end{align}
\]</span></p>
<div class="fragment">
<p><span class="math display">\[
\begin{align}
\text{Diff. in group means} &amp; = \rho + \text{Selection bias}
\end{align}
\]</span></p>
</div>
<div class="fragment">
<p>Because:</p>
<ul>
<li><em>average outcome</em> of <span style="color: red">no-treatment in <strong>not treated</strong></span>is the same as <em>average potential outcome</em> of <span style="color: red"><strong>no-treatment in not treated</strong></span>.</li>
</ul>
<p><span class="math display">\[
\color{Red}{E[Y_i|D_i=0]} = \color{Red}{E[Y_{0i}|D_{i}=0]}
\]</span></p>
</div>
<div class="fragment">
<p>However:</p>
<ul>
<li><em>average potential outcome</em> of <span style="color: green">no-treatment in <strong>treated</strong></span> is <strong>NOT</strong> the same as <em>average potential outcome</em> of <span style="color: red"><strong>no-treatment in not treated</strong></span>.</li>
</ul>
<p><span class="math display">\[
\color{Green}{E[Y_{0i}|D_{i}=1]} \ne \color{Red}{E[Y_{0i}|D_{i}=0]}
\]</span></p>
</div>
</section>
<section id="selection-bias-conclusions" class="slide level2">
<h2>Selection Bias: conclusions</h2>
<div>
<ul>
<li class="fragment"><p>Mortal enemy of the causal inference: leads to interpreting naive difference as causal effects.</p></li>
<li class="fragment"><p><strong>Exists in any comparison, where there are systematic difference between the groups compared.</strong></p></li>
<li class="fragment"><p>Appears when individuals are being “selected” for the comparison, thus:</p>
<ul>
<li class="fragment"><p>on average, individuals are not the same, or</p></li>
<li class="fragment"><p>there is no Ceteris Paribus.</p></li>
</ul></li>
</ul>
</div>
</section></section>
<section>
<section id="example-3-wakefield1998" class="title-slide slide level1 center">
<h1>Example 3: <span class="citation" data-cites="Wakefield1998">(<a href="#/references" role="doc-biblioref" onclick="">Wakefield et al., 1998</a>)</span></h1>

</section>
<section id="what-is-wrong-with-wakefield1998" class="slide level2">
<h2>What is wrong with <span class="citation" data-cites="Wakefield1998">(<a href="#/references" role="doc-biblioref" onclick="">Wakefield et al., 1998</a>)</span>?</h2>
<p>Remember: (1) treatment is the MMR vaccination. (2) outcome is the autism/inflation.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div>
<p>Treated group:</p>
<ul>
<li class="fragment">12 children with bad symptoms (all are vaccinated);</li>
</ul>
<p>Counter factual:</p>
<ul>
<li class="fragment">12 “random” children with same age and gender (not vaccinated);</li>
</ul>
<p>Comparison:</p>
<ul>
<li class="fragment">Mean prevalence of autism and inflammations by MMR vaccination status;</li>
</ul>
</div>
</div><div class="column" style="width:50%;">
<div>
<ul>
<li class="fragment"><p>What is wrong?</p>
<ul>
<li class="fragment"><p>Ideas?…</p></li>
<li class="fragment"><p>Counterfactuals are not the same as treated.</p></li>
<li class="fragment"><p>Counterfactuals do not represent the population (nearly everyong is vaccinated against MMR).</p></li>
<li class="fragment"><p>Selection bias affects the means comparison.</p></li>
<li class="fragment"><p>Does not reviel the causal effect.</p></li>
</ul></li>
</ul>
</div>
</div>
</div>
</section></section>
<section>
<section id="solutions-to-the-seletion-bias" class="title-slide slide level1 center">
<h1>Solutions to the Seletion Bias</h1>
<blockquote>
<p>Mathematically, there is no solution to the selection bias.</p>
</blockquote>
<div class="fragment">
<ol type="1">
<li>We cannot rearrange numbers or variables to resolve it.</li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li>Once a individual wanks the path, it cannot go back and take another turn.</li>
</ol>
</div>
<div class="fragment">
<blockquote>
<p>KWAI CHANG CAINE: What happens in a man’s life is already written. A man must move through life as his destiny wills.</p>
</blockquote>
<blockquote>
<p>OLD MAN: Yet each is free to live as he chooses. Though they seem opposite, both are true.</p>
</blockquote>
<blockquote>
<p>Kung Fu, Pilot <span class="citation" data-cites="Angrist2014">(<a href="#/references" role="doc-biblioref" onclick="">Angrist &amp; Pischke, 2014</a>)</span></p>
</blockquote>
</div>
</section>
<section id="solutions-to-the-selection-bias" class="slide level2">
<h2>Solutions to the Selection Bias</h2>
<p>The only way to resolve it is:</p>
<ul>
<li>To <strong>design the research</strong> so that <strong>the <span style="color: blue">design eliminates the selection bias</span></strong>.</li>
</ul>
<div class="fragment">
<p>Using <strong>econometrics</strong> enhanced by <strong>statistics</strong> and appropriate <strong>research design</strong>, we can:</p>
</div>
<div class="fragment">
<ul>
<li>ensure the Ceteris Paribus by</li>
<li>“making” groups of comparison as similar as possible</li>
<li>and controlling the differences.</li>
</ul>
</div>
</section>
<section id="furious-five-econometric-methods" class="slide level2">
<h2>Furious Five econometric methods</h2>
<p>For ensuring ceteris paribus econometricians use:</p>
<div>
<ul>
<li class="fragment"><p>Random assignment (RCT)</p></li>
<li class="fragment"><p>Regression</p></li>
<li class="fragment"><p>Instrumental Variable</p></li>
<li class="fragment"><p>Difference-in-difference</p></li>
<li class="fragment"><p>Regression Discontinuity Design</p></li>
</ul>
</div>
</section></section>
<section>
<section id="the-power-of-a-random-assignment" class="title-slide slide level1 center">
<h1>The power of a random assignment</h1>
<div class="fragment">
<p><span style="color: red"><strong>Selection</strong> bias</span> is the bias that appear when <span style="color: red">individuals are <strong>selected</strong></span> to treatment and control groups.</p>
</div>
<div class="fragment">
<p>Random assignment <span style="color: blue">kills “selection”</span> by <span style="color: blue">randomly assigning groups</span> of treatment and control.</p>
</div>
<div class="fragment">
<p>Random assignment makes treatment <span class="math inline">\(D_i\)</span> independent of potential outcomes.</p>
</div>
</section>
<section id="random-assignment-13" class="slide level2">
<h2>Random assignment (1/3)</h2>
<p>Remember, we <strong>had</strong> to non randomly assigned groups:</p>
<p><span class="math display">\[
\text{Diff. in group means}  =  \color{Blue}{E[Y_{i}|D_{i}=1]} - \color{Red}{E[Y_{i}|D_{i}=0]} \\
= \underbrace{E[Y_{1i}|\color{Blue}{D_{i}=1}] - E[Y_{0i}|\color{Green}{D_{i}=1}]}_\text{Average causal effect}
+ \underbrace{E[Y_{0i}|\color{Green}{D_{i}=1}] - E[Y_{0i}|\color{Red}{D_{i}=0}]}_\text{Selection bias},
\]</span></p>
<div class="fragment">
<p><span class="math display">\[
\text{where} \; \color{Red}{E[Y_{i}|D_{i}=0]} = E[Y_{0i}|\color{Red}{D_{i}=0}], \; \text{but} \\ E[Y_{0i}|\color{Green}{D_{i}=1}] \ne E[Y_{0i}|\color{Red}{D_{i}=0}]
\]</span></p>
</div>
<div class="fragment">
<h3 id="the-random-assignment-of-d_i-makes">The random assignment of <span class="math inline">\(D_i\)</span> makes:</h3>
<p><span class="math display">\[
E[Y_{0i}|\color{Green}{D_{i}=1}] = E[Y_{0i}|\color{Red}{D_{i}=0}]
\]</span></p>
</div>
</section>
<section id="random-assignment-23" class="slide level2">
<h2>Random assignment (2/3)</h2>
<p>Now with <span class="math inline">\(E[Y_{0i}|\color{Green}{D_{i}=1}] = E[Y_{0i}|\color{Red}{D_{i}=0}]\)</span>, we have:</p>
<div class="fragment">
<p><span class="math display">\[
\begin{align}
\text{Diff. in group means}  &amp; =  \underbrace{E[Y_{1i}|\color{Blue}{D_{i}=1}] - E[Y_{0i}|\color{Red}{D_{i}=0}]}_{\rho} \\
&amp; + \underbrace{E[Y_{0i}|\color{Green}{D_{i}=1}] - E[Y_{0i}|\color{Red}{D_{i}=0}]}_{0}
\end{align}
\]</span></p>
</div>
<div class="fragment">
<p><span class="math display">\[
\begin{align}
&amp; = \overbrace{\underbrace{E[Y_{0i} + \rho|\color{Blue}{D_{i}=1}]}_{E[Y_{1i}|\color{Blue}{D_{i}=1}]} - E[Y_{0i}|\color{Red}{D_{i}=0}]}^{\rho}
\end{align}
\]</span></p>
</div>
<div class="fragment">
<p><span class="math display">\[
\begin{align}
&amp; = \rho + \underbrace{E[Y_{0i}|\color{Green}{D_{i}=1}] - E[Y_{0i}|\color{Red}{D_{i}=0}]}_{0} \\
\end{align}
\]</span></p>
</div>
<div class="fragment">
<p><span class="math display">\[
\begin{align}
&amp; = \rho = \text{ATE}
\end{align}
\]</span></p>
</div>
</section>
<section id="random-assignment-33" class="slide level2">
<h2>Random assignment (3/3)</h2>
<p>With random assignment,</p>
<ul>
<li><span class="math inline">\(\text{Diff. in group means} = \text{ATE}\)</span> works because of</li>
<li><strong>the Law of Large Numbers (LLN)</strong>.</li>
</ul>
<div class="fragment">
<ol type="1">
<li>Provided that two samples are large enough for the LLN to work</li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li>LLN ensures that such large random samples asymptotically approximate the population.</li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>Thus, samples are also same between each other.</li>
</ol>
</div>
<div class="fragment">
<ol start="4" type="1">
<li><strong>Research Design + LLN</strong>, ensures that <span class="math inline">\(E[Y_{0i}|\color{Green}{D_{i}=1}] = E[Y_{0i}|\color{Red}{D_{i}=0}]\)</span>.</li>
</ol>
</div>
</section></section>
<section>
<section id="the-randomized-control-trials-rct" class="title-slide slide level1 center">
<h1>The Randomized Control Trials (RCT)</h1>
<p>Randomized control trials is a powerful tool of causal inference.</p>
<ul>
<li>Consider learning more about it!</li>
</ul>
</section>
<section id="key-redings-on-rct" class="slide level2">
<h2>Key redings on RCT</h2>
<p>Key papers:</p>
<ol type="1">
<li><ol class="example" type="1">
<li>Using Randomization in Development Economics Research: A Toolkit</li>
</ol></li>
<li><ol start="2" class="example" type="1">
<li>The Econometrics of Randomized Experiments</li>
</ol></li>
</ol>
<p>RCT in development:</p>
<ol type="1">
<li><ol start="3" class="example" type="1">
<li>Conditional Cash Transfers : Reducing Present and Future Poverty (book)</li>
</ol></li>
<li><ol start="4" class="example" type="1">
<li>Causal Inference in Statistics, Social, and Biomedical Sciences An Introduction (book)</li>
</ol></li>
</ol>
<p>RCT in economics:</p>
<ol type="1">
<li>See reference in <span class="citation" data-cites="Athey2017 Angrist2014 Angrist2009">(<a href="#/references" role="doc-biblioref" onclick="">Angrist &amp; Pischke, 2009, Chapter 2</a>; <a href="#/references" role="doc-biblioref" onclick="">2014, Chapter 1</a>; <a href="#/references" role="doc-biblioref" onclick="">Athey &amp; Imbens, 2017</a>)</span></li>
</ol>
</section>
<section id="rcts-criticism" class="slide level2">
<h2>RCT’s criticism</h2>
<p>This research design is not ultimate and one needs to be critical to it as well!</p>
<p>See <span class="citation" data-cites="Deaton2018">(<a href="#/references" role="doc-biblioref" onclick="">Deaton &amp; Cartwright, 2018</a>)</span>:</p>
<ul>
<li><p>RCT does not ultimately equalize everything because of the sample size and randomization strategy. Other factors (covariates) must be controlled for.</p></li>
<li><p>External validity of the RCT could be very limited.</p></li>
<li><p>Building RCT should include prior knowledge.</p></li>
<li><p>RCT’s finding may be contemporary.</p></li>
</ul>
</section></section>
<section>
<section id="food-for-thought-homework" class="title-slide slide level1 center">
<h1>Food for thought (Homework)</h1>

</section>
<section id="homework" class="slide level2">
<h2>Homework</h2>
<h3 id="watch-these-videos-on-youtube-and-read">Watch these videos on youtube and read</h3>
<div class="columns">
<div class="column" style="width:50%;">
<p>Video 1: <a href="https://youtu.be/6YrIDhaUQOE">Selection Bias</a> or this link: <a href="https://youtu.be/6YrIDhaUQOE">https://youtu.be/6YrIDhaUQOE</a></p>
</div><div class="column" style="width:50%;">
<p>Video 2: <a href="https://youtu.be/eGRd8jBdNYg">Randomized Trials</a> or this link: <a href="https://youtu.be/eGRd8jBdNYg">https://youtu.be/eGRd8jBdNYg</a></p>
</div>
</div>
<h3 id="read">Read:</h3>
<p><span class="citation" data-cites="Angrist2014 Angrist2009">(<a href="#/references" role="doc-biblioref" onclick="">Angrist &amp; Pischke, 2014, Chapter 1</a>; optional <a href="#/references" role="doc-biblioref" onclick="">Angrist &amp; Pischke, 2009, Chapter 2</a>)</span></p>
<h3 id="finish-the-in-class-exercise">Finish the in-class exercise</h3>
</section>
<section id="homwork-discuss-the-following-causal-questions" class="slide level2 smaller">
<h2>Homwork: Discuss the following causal questions</h2>
<ol type="1">
<li><p>Many farms, particularly in Europe, are small and owned and run by families. In Eastern Europe, Soviet legacy left large scale farm. Are small scale farms more efficient and productive then the large one?</p></li>
<li><p>What is the effect of Conditional Cash Transfers rather then support with goods in kind on the extreme poverty in developing countries?</p></li>
<li><p>What is the effect of Global Food prices surge on the number of the food security in the low income countries?</p></li>
</ol>
<div class="fragment">
<p>For each of these questions answer the following:</p>
<ul>
<li><p>What is the outcome variable and what is the treatment?</p></li>
<li><p>Define the counterfactual outcomes <span class="math inline">\(Y_{0i}\)</span> and <span class="math inline">\(Y_{1i}\)</span> .</p></li>
<li><p>What plausible causal channel(s) runs directly from the treatment to the outcome?</p></li>
<li><p>What are possible sources of selection bias in the raw comparison of outcomes by treatment status?</p></li>
<li><p>Does the selection bias overestimate the difference or underestimates it?</p></li>
</ul>
</div>
</section></section>
<section>
<section id="takeaways-exam-topics-that-require-understanding" class="title-slide slide level1 center">
<h1>Takeaways / Exam topics that require understanding</h1>

</section>
<section id="takeaways" class="slide level2">
<h2>Takeaways:</h2>
<ol type="1">
<li><p>Average treatment effect (ATE) and Effect of Treatment on Treated (ETT);</p></li>
<li><p>Selection bias of means comparison and the lack of Ceteris Paribus;</p></li>
<li><p>What is the Ceteris Paribus (Watch a video is needed);</p></li>
<li><p>Actual and potential outcomes framework;</p></li>
<li><p>Factual and Counterfactual;</p></li>
<li><p>Role of research design in fighting with the selection bias;</p></li>
<li><p><strong>Furious Five</strong> econometric methods;</p></li>
<li><p>Random assignment;</p></li>
</ol>
</section></section>
<section id="references" class="title-slide slide level1 smaller scrollable">
<h1>References</h1>

<img src="../img/jlu-logo.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p>MP223-Applied Econometrics (SoSe 2023). Author: Eduard Bukin (2023). | <a href="https://github.com/EBukin/mp223-2023-aem-R-public">GitHub</a> | <a href="https://studip.uni-giessen.de/dispatch.php/course/details?sem_id=f6e2c09067e60ef3c084b358d4a490cd&amp;again=yes">StudIP</a> | <a href="https://ilias.uni-giessen.de/goto.php?target=crs_350157&amp;client_id=JLUG">ILIAS</a>.</p>
</div>
<div id="refs" class="references csl-bib-body hanging-indent" data-line-spacing="2" role="doc-bibliography">
<div id="ref-Angrist2009" class="csl-entry" role="doc-biblioentry">
Angrist, J. D., &amp; Pischke, J.-S. (2009). <em>Mostly harmless econometrics</em>. Princeton University Press. http://doi.org/<a href="https://doi.org/10.1515/9781400829828">10.1515/9781400829828</a>
</div>
<div id="ref-Angrist2014" class="csl-entry" role="doc-biblioentry">
Angrist, J. D., &amp; Pischke, J.-S. (2014). <em>Mastering’metrics: The path from cause to effect</em>. Princeton University Press.
</div>
<div id="ref-Athey2017" class="csl-entry" role="doc-biblioentry">
Athey, S., &amp; Imbens, G. W. (2017). The econometrics of randomized experiments. In <em>Handbook of field experiments</em> (pp. 73–140). Elsevier. http://doi.org/<a href="https://doi.org/10.1016/bs.hefe.2016.10.003">10.1016/bs.hefe.2016.10.003</a>
</div>
<div id="ref-Deaton2018" class="csl-entry" role="doc-biblioentry">
Deaton, A., &amp; Cartwright, N. (2018). Understanding and misunderstanding randomized controlled trials. <em>Social Science <span>&amp;</span> Medicine</em>, <em>210</em>, 2–21. http://doi.org/<a href="https://doi.org/10.1016/j.socscimed.2017.12.005">10.1016/j.socscimed.2017.12.005</a>
</div>
<div id="ref-Holland1986" class="csl-entry" role="doc-biblioentry">
Holland, P. W. (1986). Statistics and Causal Inference. <em>Journal of the American Statistical Association</em>, <em>81</em>(396), 945–960. http://doi.org/<a href="https://doi.org/10.1080/01621459.1986.10478354">10.1080/01621459.1986.10478354</a>
</div>
<div id="ref-Rubin1974" class="csl-entry" role="doc-biblioentry">
Rubin, D. B. (1974). Estimating causal effects of treatments in randomized and nonrandomized studies. <em>Journal of Educational Psychology</em>, <em>66</em>(5), 688–701. http://doi.org/<a href="https://doi.org/10.1037/h0037350">10.1037/h0037350</a>
</div>
<div id="ref-Rubin1977" class="csl-entry" role="doc-biblioentry">
Rubin, D. B. (1977). Assignment to Treatment Group on the Basis of a Covariate. <em>Journal of Educational Statistics</em>, <em>2</em>(1), 1–26. http://doi.org/<a href="https://doi.org/10.3102/10769986002001001">10.3102/10769986002001001</a>
</div>
<div id="ref-Wakefield1998" class="csl-entry" role="doc-biblioentry">
Wakefield, A., Murch, S., Anthony, A., Linnell, J., Casson, D., Malik, M., … Walker-Smith, J. (1998). <span>RETRACTED</span>: Ileal-lymphoid-nodular hyperplasia, non-specific colitis, and pervasive developmental disorder in children. <em>The Lancet</em>, <em>351</em>(9103), 637–641. http://doi.org/<a href="https://doi.org/10.1016/s0140-6736(97)11096-0">10.1016/s0140-6736(97)11096-0</a>
</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="w01b-selection-bias_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="w01b-selection-bias_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="w01b-selection-bias_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="w01b-selection-bias_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="w01b-selection-bias_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="w01b-selection-bias_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="w01b-selection-bias_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="w01b-selection-bias_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="w01b-selection-bias_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="w01b-selection-bias_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 1024,

        // Factor of the display size that should remain empty around the content
        margin: 5.0e-2,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>